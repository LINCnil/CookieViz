(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?factory(exports,require('d3-voronoi-map')):typeof define==='function'&&define.amd?define(['exports','d3-voronoi-map'],factory):(factory((global.d3=global.d3||{}),global.d3));}(this,function(exports,d3VoronoiMap){'use strict';function voronoiTreemap(){var DEFAULT_CONVERGENCE_RATIO=0.01;var DEFAULT_MAX_ITERATION_COUNT=50;var DEFAULT_MIN_WEIGHT_RATIO=0.01;var DEFAULT_PRNG=Math.random;var clip=[[0,0],[0,1],[1,1],[1,0]];var extent=[[0,0],[1,1]];var size=[1,1];var convergenceRatio=DEFAULT_CONVERGENCE_RATIO;var maxIterationCount=DEFAULT_MAX_ITERATION_COUNT;var minWeightRatio=DEFAULT_MIN_WEIGHT_RATIO;var prng=DEFAULT_PRNG;var _voronoiMap=d3VoronoiMap.voronoiMap();function _voronoiTreemap(rootNode){_voronoiMap.weight(function(d){return d.value;}).convergenceRatio(convergenceRatio).maxIterationCount(maxIterationCount).minWeightRatio(minWeightRatio).prng(prng);recurse(clip,rootNode);};_voronoiTreemap.convergenceRatio=function(_){if(!arguments.length){return convergenceRatio;}
convergenceRatio=_;return _voronoiTreemap;};_voronoiTreemap.maxIterationCount=function(_){if(!arguments.length){return maxIterationCount;}
maxIterationCount=_;return _voronoiTreemap;};_voronoiTreemap.minWeightRatio=function(_){if(!arguments.length){return minWeightRatio;}
minWeightRatio=_;return _voronoiTreemap;};_voronoiTreemap.clip=function(_){if(!arguments.length){return clip;}
_voronoiMap.clip(_);clip=_voronoiMap.clip();extent=_voronoiMap.extent();size=_voronoiMap.size();return _voronoiTreemap;};_voronoiTreemap.extent=function(_){if(!arguments.length){return extent;}
_voronoiMap.extent(_);clip=_voronoiMap.clip();extent=_voronoiMap.extent();size=_voronoiMap.size();return _voronoiTreemap;};_voronoiTreemap.size=function(_){if(!arguments.length){return size;}
_voronoiMap.size(_);clip=_voronoiMap.clip();extent=_voronoiMap.extent();size=_voronoiMap.size();return _voronoiTreemap;};_voronoiTreemap.prng=function(_){if(!arguments.length){return prng;}
prng=_;return _voronoiTreemap;};function recurse(clippingPolygon,node){var voronoiMapRes;node.polygon=clippingPolygon;if(node.height!=0){voronoiMapRes=_voronoiMap.clip(clippingPolygon)(node.children);voronoiMapRes.polygons.forEach(function(cp){recurse(cp,cp.site.originalObject.data.originalData);})}};return _voronoiTreemap;}
exports.voronoiTreemap=voronoiTreemap;Object.defineProperty(exports,'__esModule',{value:true});}));